{"ast":null,"code":"export default {\n  data() {\n    return {\n      drugVOList: [],\n      registerId: ''\n    };\n  },\n  methods: {\n    //\n    getDrugList() {\n      this.$http.get('/api/prescription/list/' + this.registerId + '/2').then(res => {\n        this.drugVOList = res.data.data.drugVOList;\n      });\n    },\n    async takeDrug() {\n      const result = await this.$confirm('是否确定取出药品', '取药确认');\n      if (result == 'confirm') {\n        this.$http.put('/api/prescription/take/' + this.registerId).then(res => {\n          if (res.data.status == 1) {\n            this.$message.success(res.data.message);\n            this.registerId = '';\n            this.drugVOList = [];\n          } else {\n            this.$message.error(res.data.message);\n          }\n        });\n      }\n    }\n  },\n  mounted() {}\n};","map":{"version":3,"names":["data","drugVOList","registerId","methods","getDrugList","$http","get","then","res","takeDrug","result","$confirm","put","status","$message","success","message","error","mounted"],"sources":["src/views/window/TakeDrug.vue"],"sourcesContent":["<template>\r\n  <div>\r\n\r\n    <!-- 面包屑导航 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{path: '/welcome'}\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>挂号收费</el-breadcrumb-item>\r\n      <el-breadcrumb-item>窗口取药</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 卡片容器 -->\r\n    <el-card>\r\n\r\n      <!--查询条件-->\r\n      <el-input v-model=\"registerId\" placeholder=\"请输入病历号\" style=\"width: 200px;\"/>\r\n      <el-button type=\"primary\" @click=\"getDrugList\" >查询</el-button>\r\n\r\n\r\n      <!-- 数据表格 -->\r\n      <el-table :data=\"drugVOList\" stripe border>\r\n\r\n        <el-table-column type=\"index\" label=\"序号\" align=\"center\" width=\"100\"/>\r\n        <el-table-column prop=\"drugName\" label=\"药品名称\"/>\r\n        <el-table-column prop=\"drugPrice\" label=\"药品单价\"/>\r\n        <el-table-column prop=\"quantity\" label=\"药品数量\"/>\r\n        <el-table-column prop=\"totalPrice\" label=\"价格小计(元)\"/>\r\n        <el-table-column prop=\"createTime\" label=\"开药时间\"/>\r\n\r\n      </el-table>\r\n\r\n      <el-button type=\"primary\" @click=\"takeDrug\" :disabled=\"drugVOList.length==0\">立即取药</el-button>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n  data() {\r\n    return {\r\n      drugVOList: [],\r\n      registerId: '',\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    //\r\n    getDrugList() {\r\n      this.$http.get('/api/prescription/list/'+ this.registerId + '/2').then(\r\n\r\n          res => {\r\n            this.drugVOList = res.data.data.drugVOList\r\n\r\n          }\r\n      )\r\n    },\r\n\r\n    async takeDrug() {\r\n      const result = await this.$confirm('是否确定取出药品' , '取药确认');\r\n      if (result == 'confirm') {\r\n        this.$http.put('/api/prescription/take/' + this.registerId).then(\r\n            res => {\r\n              if (res.data.status == 1) {\r\n                this.$message.success(res.data.message)\r\n                this.registerId = ''\r\n                this.drugVOList = []\r\n              } else {\r\n                this.$message.error(res.data.message)\r\n              }\r\n            }\r\n        )\r\n      }\r\n    },\r\n\r\n  },\r\n\r\n  mounted() {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"mappings":"AAoCA;EAEAA,KAAA;IACA;MACAC,UAAA;MACAC,UAAA;IACA;EACA;EAEAC,OAAA;IACA;IACAC,YAAA;MACA,KAAAC,KAAA,CAAAC,GAAA,kCAAAJ,UAAA,SAAAK,IAAA,CAEAC,GAAA;QACA,KAAAP,UAAA,GAAAO,GAAA,CAAAR,IAAA,CAAAA,IAAA,CAAAC,UAAA;MAEA,CACA;IACA;IAEA,MAAAQ,SAAA;MACA,MAAAC,MAAA,cAAAC,QAAA;MACA,IAAAD,MAAA;QACA,KAAAL,KAAA,CAAAO,GAAA,kCAAAV,UAAA,EAAAK,IAAA,CACAC,GAAA;UACA,IAAAA,GAAA,CAAAR,IAAA,CAAAa,MAAA;YACA,KAAAC,QAAA,CAAAC,OAAA,CAAAP,GAAA,CAAAR,IAAA,CAAAgB,OAAA;YACA,KAAAd,UAAA;YACA,KAAAD,UAAA;UACA;YACA,KAAAa,QAAA,CAAAG,KAAA,CAAAT,GAAA,CAAAR,IAAA,CAAAgB,OAAA;UACA;QACA,CACA;MACA;IACA;EAEA;EAEAE,QAAA,GAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}