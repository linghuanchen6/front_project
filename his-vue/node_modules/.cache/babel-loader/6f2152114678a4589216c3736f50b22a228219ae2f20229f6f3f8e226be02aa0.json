{"ast":null,"code":"import \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nexport default {\n  data: function data() {\n    return {\n      checkRequest: this.$route.query.checkRequest,\n      checkResult: ''\n    };\n  },\n  methods: {\n    upload: function upload() {\n      var _this = this;\n      // console.log(this.checkRequest)\n      var fd = new FormData();\n      fd.append('requestId', this.checkRequest.requestId);\n      fd.append('checkResult', this.checkResult);\n      var files = this.$refs.upload.uploadFiles;\n      console.log(files);\n      files.forEach(function (file) {\n        fd.append(\"files\", file.raw);\n      });\n      this.$http.post('/api/request/upload', fd, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(function (res) {\n        if (res.data.status == 1) {\n          _this.$message.success(res.data.message);\n          _this.$router.push(\"/execute\");\n        } else {\n          _this.$message.error(res.data.message);\n        }\n      });\n    }\n  },\n  mounted: function mounted() {}\n};","map":{"version":3,"names":["data","checkRequest","$route","query","checkResult","methods","upload","_this","fd","FormData","append","requestId","files","$refs","uploadFiles","console","log","forEach","file","raw","$http","post","headers","then","res","status","$message","success","message","$router","push","error","mounted"],"sources":["src/views/check/InputResult.vue"],"sourcesContent":["<template>\r\n\t<div>\r\n\t\t\r\n\t\t<!-- 面包屑导航 -->\r\n\t\t<el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n\t\t  <el-breadcrumb-item :to=\"{path: '/welcome'}\">首页</el-breadcrumb-item>\r\n\t\t  <el-breadcrumb-item>检查检验</el-breadcrumb-item>\r\n\t\t  <el-breadcrumb-item>录入检查管理</el-breadcrumb-item>\r\n\t\t</el-breadcrumb>\r\n\t\t\r\n\t\t<!-- 卡片容器 -->\r\n\t\t<el-card>\r\n\t\t\t<el-divider>患者信息</el-divider>\r\n\t\t\t<el-tag type=\"primary\">病历1号：{{checkRequest.registerId}}</el-tag>\r\n\t\t\t<el-tag type=\"seccess\">患者姓名：{{checkRequest.patientName}}</el-tag>\r\n\t\t\t<el-tag type=\"warning\">检查名称：{{checkRequest.checkName}}</el-tag>\r\n\t\r\n\t\t\t<el-divider>录入检查结果</el-divider>\r\n\t\t\t\t\r\n\t\t\t<el-input v-model=\"checkResult\" placeholder=\"检查结果\" type=\"textarea\" row=\"2\"  style=\"width:800px\"/>\r\n\t\t\t\r\n\t\t\t<el-button type=\"primary\" @click=\"upload\" class=\"upload-button\">上传检查结果</el-button>\r\n\t\t\t\r\n\t\t\t<el-divider>上传检查图片</el-divider>\r\n\t\t\t\r\n\t\t\t<el-upload\r\n\t\t\tref=\"upload\"\r\n\t\t\taction=\"\"\r\n\t\t\tlist-type=\"picture-card\"\r\n\t\t\t:auto-upload=\"false\"\r\n\t\t\tmultiple>\r\n\t\t\t<i slot=\"default\" class=\"el-icon-plus\"></i>\r\n\t\t\t</el-upload>\r\n\t\t</el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\t\r\n\t    data() {\r\n\t\t\t\r\n\t        return {\r\n\r\n\t\t\t\t\r\n\t\t\t\t\tcheckRequest:this.$route.query.checkRequest,\r\n\t\t\t\t\t\r\n\t\t\t\t\tcheckResult:'',\r\n\t\t\t\t\r\n\t        }\r\n\t    },\r\n\t\t\r\n    methods:{\r\n      upload(){\r\n        // console.log(this.checkRequest)\r\n        let fd= new FormData();\r\n\r\n        fd.append('requestId',this.checkRequest.requestId);\r\n        fd.append('checkResult',this.checkResult);\r\n\r\n        let files=this.$refs.upload.uploadFiles;\r\n        console.log(files)\r\n        files.forEach(file =>{   fd.append(\"files\",file.raw)  })\r\n\r\n\r\n        this.$http.post('/api/request/upload',fd,{  headers:{'Content-Type':'multipart/form-data'}}).then(\r\n\r\n          res => {\r\n\r\n            if(res.data.status==1){\r\n\r\n               this.$message.success(res.data.message)\r\n\r\n               this.$router.push(\"/execute\")\r\n\r\n            }else{\r\n\r\n              this.$message.error(res.data.message)\r\n\r\n              }\r\n            }\r\n          )\r\n\r\n      },\r\n    },\r\n\r\n\t\tmounted(){\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n.el-tag{\r\n\tmargin-left:30px;\r\n}\r\n.upload-button{\r\n\tmargin-left:30px;\r\n}\r\n</style>\r\n"],"mappings":";;;;AAsCA;EAEAA,IAAA,WAAAA,KAAA;IAEA;MAGAC,YAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,YAAA;MAEAG,WAAA;IAEA;EACA;EAEAC,OAAA;IACAC,MAAA,WAAAA,OAAA;MAAA,IAAAC,KAAA;MACA;MACA,IAAAC,EAAA,OAAAC,QAAA;MAEAD,EAAA,CAAAE,MAAA,mBAAAT,YAAA,CAAAU,SAAA;MACAH,EAAA,CAAAE,MAAA,qBAAAN,WAAA;MAEA,IAAAQ,KAAA,QAAAC,KAAA,CAAAP,MAAA,CAAAQ,WAAA;MACAC,OAAA,CAAAC,GAAA,CAAAJ,KAAA;MACAA,KAAA,CAAAK,OAAA,WAAAC,IAAA;QAAAV,EAAA,CAAAE,MAAA,UAAAQ,IAAA,CAAAC,GAAA;MAAA;MAGA,KAAAC,KAAA,CAAAC,IAAA,wBAAAb,EAAA;QAAAc,OAAA;UAAA;QAAA;MAAA,GAAAC,IAAA,CAEA,UAAAC,GAAA;QAEA,IAAAA,GAAA,CAAAxB,IAAA,CAAAyB,MAAA;UAEAlB,KAAA,CAAAmB,QAAA,CAAAC,OAAA,CAAAH,GAAA,CAAAxB,IAAA,CAAA4B,OAAA;UAEArB,KAAA,CAAAsB,OAAA,CAAAC,IAAA;QAEA;UAEAvB,KAAA,CAAAmB,QAAA,CAAAK,KAAA,CAAAP,GAAA,CAAAxB,IAAA,CAAA4B,OAAA;QAEA;MACA,CACA;IAEA;EACA;EAEAI,OAAA,WAAAA,QAAA,GAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}