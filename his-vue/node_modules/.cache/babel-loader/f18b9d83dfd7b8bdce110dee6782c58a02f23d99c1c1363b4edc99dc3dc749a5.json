{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.keys.js\";\nexport default {\n  data: function data() {\n    return {\n      currentUser: {},\n      doctorType: this.$route.query.doctorType,\n      deptName: this.$route.query.deptName\n    };\n  },\n  methods: {\n    logout: function logout() {\n      var _this = this;\n      var result = this.$confirm('是否确认退出系统', '退出确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this.$http.post('/api/doctor/logout').then(function (res) {\n          if (res.data.status == 1) {\n            sessionStorage.removeItem(\"currentUser\");\n            localStorage.removeItem(\"loginInfo\");\n            _this.$message.success(res.data.message);\n            _this.$router.push(\"/login\");\n          }\n        });\n      })[\"catch\"](function () {});\n    }\n  },\n  mounted: function mounted() {\n    if (sessionStorage.getItem(\"currentUser\") != null) {\n      this.currentUser = JSON.parse(sessionStorage.getItem(\"currentUser\"));\n    }\n  }\n};","map":{"version":3,"names":["data","currentUser","doctorType","$route","query","deptName","methods","logout","_this","result","$confirm","confirmButtonText","cancelButtonText","type","then","$http","post","res","status","sessionStorage","removeItem","localStorage","$message","success","message","$router","push","mounted","getItem","JSON","parse"],"sources":["src/views/Home.vue"],"sourcesContent":["<template>\r\n  <!-- 顶层容器 -->\r\n  <el-container class=\"root_container\">\r\n\r\n    <!-- 头部区 -->\r\n    <el-header>\r\n\r\n      <img src=\"@/assets/image/logo.png\" />\r\n      <span>东软云医院HIS管理系统</span>\r\n      <span class=\"user-info\">\r\n        <i class=\"el-icon-user\"></i>用户名：【{{ currentUser.doctorName }}】\r\n      </span>\r\n      <span class=\"user-info\">\r\n        <i class=\"el-icon-bank-card\"></i>用户类型：【{{ doctorType }}】\r\n      </span>\r\n      <span class=\"user-info\" v-if=\"currentUser.doctorType == 1 || currentUser.doctorType == 2\">\r\n        <i class=\"el-icon-copy-document\"></i>科室名称：【{{ deptName }}】\r\n      </span>\r\n      <el-button type=\"primary\" @click=\"logout\">退出</el-button>\r\n\r\n    </el-header>\r\n\r\n    <el-container>\r\n\r\n      <!-- 左侧菜单区  -->\r\n      <el-aside width=\"200px\">\r\n\r\n        <el-menu background-color=\"#48c0a3\" text-color=\"white\" active-text-color=\"#ffd04b\" unique-opened router>\r\n\r\n          <!-- 基础数据维护 -->\r\n          <el-submenu index=\"1\" v-if=\"currentUser.doctorType == 1\">\r\n\r\n            <template slot=\"title\">\r\n              <i class=\"el-icon-location\"></i>\r\n              <span>医生诊疗</span>\r\n            </template>\r\n            <el-menu-item index=\"receive\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>医生接诊</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"insure\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>医生确诊</span>\r\n            </el-menu-item>\r\n\r\n          </el-submenu>\r\n          <el-submenu index=\"2\" v-if=\"currentUser.doctorType == 2\">\r\n            <template slot=\"title\">\r\n              <i class=\"el-icon-location\"></i>\r\n              <span>检查检验</span>\r\n            </template>\r\n            <el-menu-item index=\"execute\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>执行检查</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"inputResult\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>录入结果</span>\r\n            </el-menu-item>\r\n          </el-submenu>\r\n          <el-submenu index=\"3\" v-if=\"currentUser.doctorType == 3\">\r\n            <template slot=\"title\">\r\n              <i class=\"el-icon-location\"></i>\r\n              <span>挂号收费</span>\r\n            </template>\r\n            <el-menu-item index=\"register\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>窗口挂号</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"fee\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>窗口收费</span>\r\n            </el-menu-item>\r\n            <el-menu-item index=\"takeDrug\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>窗口取药</span>\r\n            </el-menu-item>\r\n          </el-submenu>\r\n          <el-submenu index=\"4\" v-if=\"currentUser.doctorType == 4\">\r\n\r\n            <template slot=\"title\">\r\n              <i class=\"el-icon-location\"></i>\r\n              <span>基础数据维护</span>\r\n            </template>\r\n            <el-menu-item index=\"level\" style=\"height:40px\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>挂号级别</span>\r\n            </el-menu-item>\r\n\r\n            <el-menu-item index=\"dept\" style=\"height:40px\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>科室管理</span>\r\n            </el-menu-item>\r\n\r\n            <el-menu-item index=\"disease\" style=\"height:40px\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>疾病管理</span>\r\n            </el-menu-item>\r\n\r\n            <el-menu-item index=\"drug\" style=\"height:40px\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>药品管理</span>\r\n            </el-menu-item>\r\n\r\n            <el-menu-item index=\"check\" style=\"height:40px\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>检查项目管理</span>\r\n            </el-menu-item>\r\n\r\n            <el-menu-item index=\"schedule\" style=\"height:40px\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>医生排班管理</span>\r\n            </el-menu-item>\r\n\r\n            <el-menu-item index=\"doctor\" style=\"height:40px\">\r\n              <i class=\"el-icon-menu\"></i>\r\n              <span>医生管理</span>\r\n            </el-menu-item>\r\n\r\n          </el-submenu>\r\n\r\n        </el-menu>\r\n\r\n      </el-aside>\r\n\r\n      <!-- 右侧主体区 -->\r\n      <el-main>\r\n        <!-- 路由占位符 -->\r\n        <router-view />\r\n      </el-main>\r\n\r\n\r\n    </el-container>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      currentUser: {},\r\n\r\n      doctorType: this.$route.query.doctorType,\r\n\r\n      deptName: this.$route.query.deptName,\r\n    }\r\n  },\r\n  methods: {\r\n    logout() {\r\n      const result = this.$confirm(\r\n        '是否确认退出系统', '退出确认',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      ).then(() => {\r\n        this.$http.post('/api/doctor/logout').then(\r\n          res => {\r\n            if (res.data.status == 1) {\r\n              sessionStorage.removeItem(\"currentUser\")\r\n\r\n              localStorage.removeItem(\"loginInfo\")\r\n\r\n              this.$message.success(res.data.message)\r\n\r\n              this.$router.push(\"/login\")\r\n            }\r\n          }\r\n        )\r\n      }).catch(() => { })\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n    if (sessionStorage.getItem(\"currentUser\") != null) {\r\n      this.currentUser = JSON.parse(sessionStorage.getItem(\"currentUser\"))\r\n    }\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.el-header {\r\n  background-color: #48c0a3;\r\n  color: white;\r\n  font-size: 24px;\r\n\r\n  /* 弹性布局 */\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n}\r\n\r\n.el-aside {\r\n  background-color: #48c0a3;\r\n}\r\n\r\n.root_container {\r\n  height: 100%;\r\n}\r\n\r\n.el-menu {\r\n  border-right: none;\r\n}\r\n\r\n.user-info {\r\n  color: ffffff;\r\n  font-size: 16px;\r\n}\r\n</style>\r\n"],"mappings":";;AA0IA;EACAA,IAAA,WAAAA,KAAA;IACA;MACAC,WAAA;MAEAC,UAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAF,UAAA;MAEAG,QAAA,OAAAF,MAAA,CAAAC,KAAA,CAAAC;IACA;EACA;EACAC,OAAA;IACAC,MAAA,WAAAA,OAAA;MAAA,IAAAC,KAAA;MACA,IAAAC,MAAA,QAAAC,QAAA,CACA,oBACA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,CACA,EAAAC,IAAA;QACAN,KAAA,CAAAO,KAAA,CAAAC,IAAA,uBAAAF,IAAA,CACA,UAAAG,GAAA;UACA,IAAAA,GAAA,CAAAjB,IAAA,CAAAkB,MAAA;YACAC,cAAA,CAAAC,UAAA;YAEAC,YAAA,CAAAD,UAAA;YAEAZ,KAAA,CAAAc,QAAA,CAAAC,OAAA,CAAAN,GAAA,CAAAjB,IAAA,CAAAwB,OAAA;YAEAhB,KAAA,CAAAiB,OAAA,CAAAC,IAAA;UACA;QACA,CACA;MACA;IAEA;EACA;EACAC,OAAA,WAAAA,QAAA;IAEA,IAAAR,cAAA,CAAAS,OAAA;MACA,KAAA3B,WAAA,GAAA4B,IAAA,CAAAC,KAAA,CAAAX,cAAA,CAAAS,OAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}